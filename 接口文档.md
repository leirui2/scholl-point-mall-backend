# 学校周边奖励系统接口文档

## 基本信息

Base URLs:
* 开发环境: `localhost:8084/api`

所有接口均以 `/api` 为前缀，例如: `POST /api/user/login`

## 认证方式

大部分接口需要用户登录后才能访问，通过 Session 进行身份验证。用户登录成功后，服务器会在响应中设置 Session Cookie，后续请求会自动携带该 Cookie 进行身份验证。

---

## 商品信息接口

### 添加商品信息

**接口地址**: `POST /item/add`

**请求参数**:
```json
{
  "categoryid": 0,           // 所属类别ID
  "name": "string",          // 商品名称
  "description": "string",   // 商品描述
  "imageurl": "string",      // 商品图片URL
  "pointPrice": 0,           // 积分价格
  "stock": 0,                // 库存数量
  "unit": "string"           // 计量单位
}
```

**返回结果**:
```json
{
  "code": 0,
  "message": "success",
  "data": 1                  // 商品ID
}
```

### 修改商品信息

**接口地址**: `POST /item/update`

**请求参数**:
```json
{
  "id": 0,                   // 商品ID
  "categoryid": 0,           // 所属类别ID
  "name": "string",          // 商品名称
  "description": "string",   // 商品描述
  "imageurl": "string",      // 商品图片URL
  "pointPrice": 0,           // 积分价格
  "stock": 0,                // 库存数量
  "unit": "string"           // 计量单位
}
```

**返回结果**:
```json
{
  "code": 0,
  "message": "success",
  "data": {
    "id": 0,
    "categoryid": 0,
    "name": "string",
    "description": "string",
    "imageurl": "string",
    "pointPrice": 0,
    "stock": 0,
    "unit": "string",
    "status": 0,              // 状态：0-上架，1-下架
    "isDelete": 0,            // 逻辑删除标志：0-未删除，1-已删除
    "createTime": "2025-12-12 10:00:00",
    "updateTime": "2025-12-12 10:00:00"
  }
}
```

### 根据ID查询商品脱敏信息

**接口地址**: `GET /item/getItemById?id={itemId}`

**请求参数**:
| 参数名 | 类型   | 必填 | 说明       |
|--------|--------|------|------------|
| id     | Long   | 是   | 商品信息ID |

**返回结果**:
```json
{
  "code": 0,
  "message": "success",
  "data": {
    "id": 0,
    "categoryid": 0,
    "name": "string",
    "description": "string",
    "imageurl": "string",
    "pointPrice": 0,
    "orderCount": 0,
    "stock": 0,
    "unit": "string",
    "status": 0,
    "categoryName": "string",      // 类别名称
    "createTime": "2025-12-12 10:00:00",
    "updateTime": "2025-12-12 10:00:00"
  }
}
```

### 管理员更新商品状态（启用/禁用）

**接口地址**: `POST /item/updateItemStatus?id={itemId}&status={status}`

**请求参数**:
| 参数名 | 类型   | 必填 | 说明                          |
|--------|--------|------|-------------------------------|
| id     | Long   | 是   | 商品信息ID                    |
| status | Int    | 是   | 商品信息状态 0-正常 1-禁用    |

**返回结果**:
```json
{
  "code": 0,
  "message": "success",
  "data": true
}
```

### 管理员逻辑删除商品

**接口地址**: `POST /item/deleteItem?id={itemId}`

**请求参数**:
| 参数名 | 类型   | 必填 | 说明       |
|--------|--------|------|------------|
| id     | Long   | 是   | 商品信息ID |

**返回结果**:
```json
{
  "code": 0,
  "message": "success",
  "data": true
}
```

### 普通用户分页查询商品列表

**接口地址**: `POST /item/listItemByPageUser`

**请求参数**:
```json
{
  "current": 1,              // 当前页号
  "pageSize": 10,            // 页面大小
  "categoryid": 0,           // 所属类别ID
  "name": "string",          // 商品名称
  "categoryName": "string",  // 类别名称
  "description": "string",   // 商品描述
  "minPointPrice": 0,        // 最低积分价格
  "maxPointPrice": 0,        // 最高积分价格
  "minStock": 0,             // 最低库存数量
  "maxStock": 0              // 最高库存数量
}
```

**返回结果**:
```json
{
  "code": 0,
  "message": "success",
  "data": {
    "records": [
      {
        "id": 0,
        "categoryid": 0,
        "name": "string",
        "description": "string",
        "imageurl": "string",
        "pointPrice": 0,
        "orderCount": 0,
        "stock": 0,
        "unit": "string"
      }
    ],
    "total": 100,
    "current": 1,
    "size": 10
  }
}
```

### 获取热门商品列表推荐

**接口地址**: `POST /item/hotListItemByPage`

**请求参数**:
```json
{
  "current": 1,              // 当前页号
  "pageSize": 10,            // 页面大小
  "num": 30,                 // 按照销量查询前num名商品信息
  "categoryId": 0            // 商品类别ID，0表示所有类别
}
```

**返回结果**:
```json
{
  "code": 0,
  "message": "success",
  "data": {
    "records": [
      {
        "id": 0,
        "categoryid": 0,
        "name": "string",
        "description": "string",
        "imageurl": "string",
        "pointPrice": 0,
        "orderCount": 0,
        "stock": 0,
        "unit": "string"
      }
    ],
    "total": 30,
    "current": 1,
    "size": 10
  }
}
```

### 管理员分页查询商品信息列表

**接口地址**: `POST /item/listItemByPage`

**请求参数**:
```json
{
  "current": 1,              // 当前页号
  "pageSize": 10,            // 页面大小
  "categoryid": 0,           // 所属类别ID
  "name": "string",          // 商品名称
  "categoryName": "string",  // 类别名称
  "description": "string",   // 商品描述
  "minPointPrice": 0,        // 最低积分价格
  "maxPointPrice": 0,        // 最高积分价格
  "minStock": 0,             // 最低库存数量
  "maxStock": 0              // 最高库存数量
}
```

**返回结果**:
```json
{
  "code": 0,
  "message": "success",
  "data": {
    "records": [
      {
        "id": 0,
        "categoryid": 0,
        "name": "string",
        "description": "string",
        "imageurl": "string",
        "pointPrice": 0,
        "orderCount": 0,
        "stock": 0,
        "unit": "string",
        "status": 0,
        "isDelete": 0,
        "createTime": "2025-12-12 10:00:00",
        "updateTime": "2025-12-12 10:00:00"
      }
    ],
    "total": 100,
    "current": 1,
    "size": 10
  }
}
```

### 管理员分页查询商品和类别信息列表

**接口地址**: `POST /item/listItemCategoryByPage`

**请求参数**:
```json
{
  "current": 1,              // 当前页号
  "pageSize": 10,            // 页面大小
  "categoryid": 0,           // 所属类别ID
  "name": "string",          // 商品名称
  "categoryName": "string",  // 类别名称
  "description": "string",   // 商品描述
  "minPointPrice": 0,        // 最低积分价格
  "maxPointPrice": 0,        // 最高积分价格
  "minStock": 0,             // 最低库存数量
  "maxStock": 0              // 最高库存数量
}
```

**返回结果**:
```json
{
  "code": 0,
  "message": "success",
  "data": {
    "records": [
      {
        "id": 0,
        "categoryid": 0,
        "name": "string",
        "description": "string",
        "imageurl": "string",
        "pointPrice": 0,
        "orderCount": 0,
        "stock": 0,
        "unit": "string",
        "status": 0,
        "categoryName": "string",
        "createTime": "2025-12-12 10:00:00",
        "updateTime": "2025-12-12 10:00:00"
      }
    ],
    "total": 100,
    "current": 1,
    "size": 10
  }
}
```

---

## 用户接口

### 用户注册

**接口地址**: `POST /user/register`

**请求参数**:
```json
{
  "userAccount": "string",     // 用户账号
  "userPassword": "string",    // 用户密码
  "checkPassword": "string"    // 确认密码
}
```

**返回结果**:
```json
{
  "code": 0,
  "message": "success",
  "data": 1                    // 用户ID
}
```

### 用户登录

**接口地址**: `POST /user/login`

**请求参数**:
```json
{
  "userAccount": "string",     // 用户账号
  "userPassword": "string"     // 用户密码
}
```

**返回结果**:
```json
{
  "code": 0,
  "message": "success",
  "data": {
    "id": 0,
    "userAccount": "string",
    "userName": "string",
    "email": "string",
    "gender": 0,
    "consecutiveSignInDays": 0,
    "phone": "string",
    "userAvatar": "string",
    "userProfile": "string",
    "userStatus": 0,
    "userRole": 0,
    "points": 0,
    "createTime": "2025-12-12 10:00:00",
    "updateTime": "2025-12-12 10:00:00"
  }
}
```

### 获取当前登录用户

**接口地址**: `GET /user/getLoginUser`

**返回结果**:
```json
{
  "code": 0,
  "message": "success",
  "data": {
    "id": 0,
    "userAccount": "string",
    "userName": "string",
    "email": "string",
    "gender": 0,
    "consecutiveSignInDays": 0,
    "phone": "string",
    "userAvatar": "string",
    "userProfile": "string",
    "userStatus": 0,
    "userRole": 0,
    "points": 0,
    "createTime": "2025-12-12 10:00:00",
    "updateTime": "2025-12-12 10:00:00"
  }
}
```

### 用户退出登录

**接口地址**: `POST /user/logout`

**返回结果**:
```json
{
  "code": 0,
  "message": "success",
  "data": true
}
```

### 用户信息修改

**接口地址**: `POST /user/update`

**请求参数**:
```json
{
  "id": 0,
  "userAccount": "string",
  "userPassword": "string",
  "userName": "string",
  "email": "string",
  "gender": 0,
  "phone": "string",
  "userAvatar": "string",
  "userProfile": "string"
}
```

**返回结果**:
```json
{
  "code": 0,
  "message": "success",
  "data": {
    "id": 0,
    "userAccount": "string",
    "userName": "string",
    "email": "string",
    "gender": 0,
    "phone": "string",
    "userAvatar": "string",
    "consecutiveSignInDays": 0,
    "userProfile": "string",
    "userStatus": 0
  }
}
```

### 修改密码

**接口地址**: `POST /user/updateUserPassword`

**请求参数**:
```json
{
  "oldPassword": "string",      // 老密码
  "userPassword": "string",     // 新密码
  "confirmPassword": "string"   // 确认密码
}
```

**返回结果**:
```json
{
  "code": 0,
  "message": "success",
  "data": true
}
```

### 管理员根据ID查询用户完整信息

**接口地址**: `GET /user/admin/getUserById?id={userId}`

**请求参数**:
| 参数名 | 类型   | 必填 | 说明   |
|--------|--------|------|--------|
| id     | Long   | 是   | 用户ID |

**返回结果**:
```json
{
  "code": 0,
  "message": "success",
  "data": {
    "id": 0,
    "userAccount": "string",
    "userPassword": "string",
    "userName": "string",
    "email": "string",
    "gender": 0,
    "phone": "string",
    "userAvatar": "string",
    "userProfile": "string",
    "userStatus": 0,
    "points": 0,
    "consecutiveSignInDays": 0,
    "userRole": 0,
    "createTime": "2025-12-12 10:00:00",
    "updateTime": "2025-12-12 10:00:00",
    "isDelete": 0
  }
}
```

### 根据ID查询用户公开信息（脱敏）

**接口地址**: `GET /user/getPublicUserInfoById?id={userId}`

**请求参数**:
| 参数名 | 类型   | 必填 | 说明   |
|--------|--------|------|--------|
| id     | Long   | 是   | 用户ID |

**返回结果**:
```json
{
  "code": 0,
  "message": "success",
  "data": {
    "id": 0,
    "userAccount": "string",
    "userName": "string",
    "email": "string",
    "gender": 0,
    "consecutiveSignInDays": 0,
    "phone": "string",
    "userAvatar": "string",
    "userProfile": "string",
    "userStatus": 0,
    "userRole": 0,
    "points": 0,
    "createTime": "2025-12-12 10:00:00",
    "updateTime": "2025-12-12 10:00:00"
  }
}
```

### 管理员分页查询用户列表

**接口地址**: `POST /user/admin/listUsersByPage`

**请求参数**:
```json
{
  "current": 1,              // 当前页号
  "pageSize": 10,            // 页面大小
  "userAccount": "string",   // 账号
  "userName": "string",      // 用户昵称
  "gender": 0,               // 性别
  "userStatus": 0,           // 用户状态： 0 - 正常 1-ban
  "userRole": 0              // 用户角色: 0 - 普通用户 1 - 管理员
}
```

**返回结果**:
```json
{
  "code": 0,
  "message": "success",
  "data": {
    "records": [
      {
        "id": 0,
        "userAccount": "string",
        "userPassword": "string",
        "userName": "string",
        "email": "string",
        "gender": 0,
        "phone": "string",
        "userAvatar": "string",
        "userProfile": "string",
        "userStatus": 0,
        "points": 0,
        "consecutiveSignInDays": 0,
        "userRole": 0,
        "createTime": "2025-12-12 10:00:00",
        "updateTime": "2025-12-12 10:00:00",
        "isDelete": 0
      }
    ],
    "total": 100,
    "current": 1,
    "size": 10
  }
}
```

### 管理员更新用户状态（启用/禁用）

**接口地址**: `POST /user/admin/updateUserStatus?id={userId}&status={status}`

**请求参数**:
| 参数名 | 类型   | 必填 | 说明                       |
|--------|--------|------|----------------------------|
| id     | Long   | 是   | 用户ID                     |
| status | Int    | 是   | 用户状态 0-正常 1-禁用     |

**返回结果**:
```json
{
  "code": 0,
  "message": "success",
  "data": true
}
```

### 管理员重置用户密码

**接口地址**: `POST /user/admin/resetPassword?id={userId}`

**请求参数**:
| 参数名 | 类型   | 必填 | 说明   |
|--------|--------|------|--------|
| id     | Long   | 是   | 用户ID |

**返回结果**:
```json
{
  "code": 0,
  "message": "success",
  "data": true
}
```

### 管理员更新用户角色（普通用户/管理员）

**接口地址**: `POST /user/admin/updateUserRole?id={userId}&role={role}`

**请求参数**:
| 参数名 | 类型   | 必填 | 说明                           |
|--------|--------|------|--------------------------------|
| id     | Long   | 是   | 用户ID                         |
| role   | Int    | 是   | 用户角色 0-普通用户 1-管理员   |

**返回结果**:
```json
{
  "code": 0,
  "message": "success",
  "data": true
}
```

### 管理员逻辑删除用户

**接口地址**: `POST /user/admin/deleteUser?id={userId}`

**请求参数**:
| 参数名 | 类型   | 必填 | 说明   |
|--------|--------|------|--------|
| id     | Long   | 是   | 用户ID |

**返回结果**:
```json
{
  "code": 0,
  "message": "success",
  "data": true
}
```

### 管理员修改用户信息

**接口地址**: `POST /user/admin/update`

**请求参数**:
```json
{
  "id": 0,
  "userAccount": "string",
  "userPassword": "string",
  "userName": "string",
  "email": "string",
  "gender": 0,
  "phone": "string",
  "userAvatar": "string",
  "userProfile": "string"
}
```

**返回结果**:
```json
{
  "code": 0,
  "message": "success",
  "data": {
    "id": 0,
    "userAccount": "string",
    "userName": "string",
    "email": "string",
    "gender": 0,
    "phone": "string",
    "userAvatar": "string",
    "consecutiveSignInDays": 0,
    "userProfile": "string",
    "userStatus": 0
  }
}
```

---

## 商品类别接口

### 添加商品类别

**接口地址**: `POST /category/add`

**请求参数**:
```json
{
  "name": "string",          // 类别名称
  "description": "string"    // 类别描述
}
```

**返回结果**:
```json
{
  "code": 0,
  "message": "success",
  "data": 1                  // 类别ID
}
```

### 修改商品类别信息

**接口地址**: `POST /category/update`

**请求参数**:
```json
{
  "id": 0,                   // ID
  "name": "string",          // 类别名称
  "description": "string"    // 类别描述
}
```

**返回结果**:
```json
{
  "code": 0,
  "message": "success",
  "data": {
    "id": 0,
    "name": "string",
    "description": "string",
    "isDelete": 0,
    "createTime": "2025-12-12 10:00:00",
    "updateTime": "2025-12-12 10:00:00"
  }
}
```

### 管理员根据ID查询商品类别完整信息

**接口地址**: `GET /category/getCategoryById?id={categoryId}`

**请求参数**:
| 参数名 | 类型   | 必填 | 说明         |
|--------|--------|------|--------------|
| id     | Long   | 是   | 商品类别ID   |

**返回结果**:
```json
{
  "code": 0,
  "message": "success",
  "data": {
    "id": 0,
    "name": "string",
    "description": "string",
    "isDelete": 0,
    "createTime": "2025-12-12 10:00:00",
    "updateTime": "2025-12-12 10:00:00"
  }
}
```

### 管理员逻辑删除商品类别

**接口地址**: `POST /category/deleteCategory?id={categoryId}`

**请求参数**:
| 参数名 | 类型   | 必填 | 说明         |
|--------|--------|------|--------------|
| id     | Long   | 是   | 商品类别ID   |

**返回结果**:
```json
{
  "code": 0,
  "message": "success",
  "data": true
}
```

### 分页查询商品类别列表

**接口地址**: `POST /category/listCategoryByPage`

**请求参数**:
```json
{
  "current": 1,              // 当前页号
  "pageSize": 10,            // 页面大小
  "name": "string"           // 类别名称
}
```

**返回结果**:
```json
{
  "code": 0,
  "message": "success",
  "data": {
    "records": [
      {
        "id": 0,
        "name": "string",
        "description": "string",
        "isDelete": 0,
        "createTime": "2025-12-12 10:00:00",
        "updateTime": "2025-12-12 10:00:00"
      }
    ],
    "total": 100,
    "current": 1,
    "size": 10
  }
}
```

### 热门商品类别列表

**接口地址**: `POST /category/hotCategoryByPage`

**请求参数**:
```json
{
  "current": 1,              // 当前页号
  "pageSize": 10,            // 页面大小
  "num": 6                   // 按照销量查询前num名热门类别
}
```

**返回结果**:
```json
{
  "code": 0,
  "message": "success",
  "data": {
    "records": [
      {
        "id": 0,
        "name": "string",
        "description": "string",
        "totalOrderCount": 0,     // 总订单数
        "createTime": "2025-12-12 10:00:00",
        "updateTime": "2025-12-12 10:00:00"
      }
    ],
    "total": 6,
    "current": 1,
    "size": 10
  }
}
```

---

## 文件上传接口

### 上传文件

**接口地址**: `POST /file/upload`

**请求参数**:
| 参数名 | 类型   | 必填 | 说明     |
|--------|--------|------|----------|
| file   | File   | 是   | 上传文件 |

**返回结果**:
```json
{
  "id": "string",
  "url": "string",
  "size": 0,
  "filename": "string",
  "originalFilename": "string",
  "basePath": "string",
  "path": "string",
  "ext": "string",
  "contentType": "string",
  "platform": "string",
  "thUrl": "string",
  "thFilename": "string",
  "thSize": 0,
  "thContentType": "string",
  "objectId": "string",
  "objectType": "string",
  "metadata": {
    "key": "string"
  },
  "userMetadata": {
    "key": "string"
  },
  "thMetadata": {
    "key": "string"
  },
  "thUserMetadata": {
    "key": "string"
  },
  "attr": {
    "key": {}
  },
  "fileAcl": {},
  "thFileAcl": {},
  "createTime": "2025-12-12 10:00:00"
}
```

### 上传文件，成功返回文件 url

**接口地址**: `POST /file/upload2`

**请求参数**:
| 参数名 | 类型   | 必填 | 说明     |
|--------|--------|------|----------|
| file   | File   | 是   | 上传文件 |

**返回结果**:
```json
"http://example.com/file/path/filename.jpg"
```

### 上传图片，成功返回文件信息

**接口地址**: `POST /file/upload-image`

**请求参数**:
| 参数名 | 类型   | 必填 | 说明     |
|--------|--------|------|----------|
| file   | File   | 是   | 上传文件 |

**返回结果**:
```json
{
  "id": "string",
  "url": "string",
  "size": 0,
  "filename": "string",
  "originalFilename": "string",
  "basePath": "string",
  "path": "string",
  "ext": "string",
  "contentType": "string",
  "platform": "string",
  "thUrl": "string",
  "thFilename": "string",
  "thSize": 0,
  "thContentType": "string",
  "objectId": "string",
  "objectType": "string",
  "metadata": {
    "key": "string"
  },
  "userMetadata": {
    "key": "string"
  },
  "thMetadata": {
    "key": "string"
  },
  "thUserMetadata": {
    "key": "string"
  },
  "attr": {
    "key": {}
  },
  "fileAcl": {},
  "thFileAcl": {},
  "createTime": "2025-12-12 10:00:00"
}
```

### 上传文件到指定存储平台，成功返回文件信息

**接口地址**: `POST /file/upload-platform`

**请求参数**:
| 参数名 | 类型   | 必填 | 说明     |
|--------|--------|------|----------|
| file   | File   | 是   | 上传文件 |

**返回结果**:
```json
{
  "id": "string",
  "url": "string",
  "size": 0,
  "filename": "string",
  "originalFilename": "string",
  "basePath": "string",
  "path": "string",
  "ext": "string",
  "contentType": "string",
  "platform": "string",
  "thUrl": "string",
  "thFilename": "string",
  "thSize": 0,
  "thContentType": "string",
  "objectId": "string",
  "objectType": "string",
  "metadata": {
    "key": "string"
  },
  "userMetadata": {
    "key": "string"
  },
  "thMetadata": {
    "key": "string"
  },
  "thUserMetadata": {
    "key": "string"
  },
  "attr": {
    "key": {}
  },
  "fileAcl": {},
  "thFileAcl": {},
  "createTime": "2025-12-12 10:00:00"
}
```

---

## 支付宝支付接口

### 生成支付二维码

**接口地址**: `POST /pay?itemId={itemId}&num={num}`

**请求参数**:
| 参数名 | 类型   | 必填 | 说明     |
|--------|--------|------|----------|
| itemId | Long   | 是   | 商品ID   |
| num    | Int    | 是   | 购买数量 |

**返回结果**:
```json
{
  "code": 0,
  "message": "success",
  "data": {
    "qrCodeUrl": "string",      // 支付二维码URL
    "orderNumber": "string",    // 订单号
    "itemName": "string",       // 商品名称
    "totalAmount": 0            // 支付金额
  }
}
```

### 查询支付状态

**接口地址**: `POST /query?outTradeNo={outTradeNo}`

**请求参数**:
| 参数名      | 类型   | 必填 | 说明         |
|-------------|--------|------|--------------|
| outTradeNo  | String | 是   | 商户订单号   |

**返回结果**:
```json
"TRADE_SUCCESS"
```

---

## 签到规则接口

### 获取签到规则列表

**接口地址**: `POST /signInRule/list`

**返回结果**:
```json
{
  "code": 0,
  "message": "success",
  "data": [
    {
      "id": 0,
      "consecutiveDays": 0,     // 连续签到天数
      "points": 0,              // 奖励积分数量
      "description": "string",  // 规则描述
      "createTime": "2025-12-12 10:00:00",
      "updateTime": "2025-12-12 10:00:00",
      "isDelete": 0
    }
  ]
}
```

### 获取签到规则详情

**接口地址**: `POST /signInRule/getRuleDetail?id={ruleId}`

**请求参数**:
| 参数名 | 类型   | 必填 | 说明     |
|--------|--------|------|----------|
| id     | Long   | 是   | 规则ID   |

**返回结果**:
```json
{
  "code": 0,
  "message": "success",
  "data": {
    "id": 0,
    "consecutiveDays": 0,
    "points": 0,
    "description": "string",
    "createTime": "2025-12-12 10:00:00",
    "updateTime": "2025-12-12 10:00:00",
    "isDelete": 0
  }
}
```

### 管理员删除签到规则（逻辑删除）

**接口地址**: `POST /signInRule/admin/delete?id={ruleId}`

**请求参数**:
| 参数名 | 类型   | 必填 | 说明   |
|--------|--------|------|--------|
| id     | Long   | 是   | 规则ID |

**返回结果**:
```json
{
  "code": 0,
  "message": "success",
  "data": true
}
```

### 管理员修改签到规则信息

**接口地址**: `POST /signInRule/admin/update`

**请求参数**:
```json
{
  "id": 0,                      // 主键
  "consecutiveDays": 0,         // 连续签到天数
  "points": 0,                  // 奖励积分数量
  "description": "string"       // 规则描述
}
```

**返回结果**:
```json
{
  "code": 0,
  "message": "success",
  "data": {
    "id": 0,
    "consecutiveDays": 0,
    "points": 0,
    "description": "string",
    "createTime": "2025-12-12 10:00:00",
    "updateTime": "2025-12-12 10:00:00",
    "isDelete": 0
  }
}
```

### 管理员新增签到规则

**接口地址**: `POST /signInRule/admin/add`

**请求参数**:
```json
{
  "consecutiveDays": 0,         // 连续签到天数
  "points": 0,                  // 奖励积分数量
  "description": "string"       // 规则描述
}
```

**返回结果**:
```json
{
  "code": 0,
  "message": "success",
  "data": {
    "id": 0,
    "consecutiveDays": 0,
    "points": 0,
    "description": "string",
    "createTime": "2025-12-12 10:00:00",
    "updateTime": "2025-12-12 10:00:00",
    "isDelete": 0
  }
}
```

---

## 商品购买接口

### 下单商品

**接口地址**: `POST /purchase_record/addPurchaseItem`

**请求参数**:
```json
{
  "itemId": 0,          // 商品ID
  "num": 0,             // 数量
  "paymentType": 0      // 1=积分支付，2=支付宝支付 ,3=混合支付
}
```

**返回结果**:
```json
{
  "code": 0,
  "message": "success",
  "data": true
}
```

### 分页查询当前用户的所有下单记录

**接口地址**: `POST /purchase_record/listAllRecord`

**请求参数**:
```json
{
  "current": 1,              // 当前页号
  "pageSize": 10,            // 页面大小
  "itemName": "string",      // 商品名
  "orderNumber": "string"    // 订单号
}
```

**返回结果**:
```json
{
  "code": 0,
  "message": "success",
  "data": {
    "records": [
      {
        "id": 0,
        "itemId": 0,
        "item": {
          "id": 0,
          "categoryid": 0,
          "name": "string",
          "description": "string",
          "imageurl": "string",
          "orderCount": 0,
          "pointPrice": 0,
          "stock": 0,
          "unit": "string",
          "status": 0,
          "isDelete": 0,
          "createTime": "2025-12-12 10:00:00",
          "updateTime": "2025-12-12 10:00:00"
        },
        "itemName": "string",
        "userId": 0,
        "paymentStatus": 0,
        "paymentAmount": 0,
        "paymentTime": "2025-12-12 10:00:00",
        "num": 0,
        "orderNumber": "string",
        "createTime": "2025-12-12 10:00:00"
      }
    ],
    "total": 100,
    "current": 1,
    "size": 10
  }
}
```

---

## 签到记录接口

### 用户签到

**接口地址**: `POST /signInRecord/signIn`

**返回结果**:
```json
{
  "code": 0,
  "message": "success",
  "data": 10      // 签到获得的积分点数
}
```

### 分页查询签到记录

**接口地址**: `POST /signInRecord/listSignInRecordByPage`

**请求参数**:
```json
{
  "current": 1,              // 当前页号
  "pageSize": 10,            // 页面大小
  "userId": "string",        // 用户ID
  "signInDate": "string",    // 签到日期
  "consecutiveDays": 0,      // 连续签到天数
  "points": 0                // 获得积分数量
}
```

**返回结果**:
```json
{
  "code": 0,
  "message": "success",
  "data": {
    "records": [
      {
        "id": 0,
        "userId": 0,
        "signInDate": "2025-12-12 10:00:00",
        "consecutiveDays": 0,
        "points": 0,
        "createTime": "2025-12-12 10:00:00",
        "updateTime": "2025-12-12 10:00:00",
        "isDelete": 0
      }
    ],
    "total": 100,
    "current": 1,
    "size": 10
  }
}
```

### 分页查询自己的签到记录

**接口地址**: `POST /signInRecord/listSignInMyRecordByPage`

**请求参数**:
```json
{
  "current": 1,              // 当前页号
  "pageSize": 10,            // 页面大小
  "userId": "string",        // 用户ID
  "signInDate": "string",    // 签到日期
  "consecutiveDays": 0,      // 连续签到天数
  "points": 0                // 获得积分数量
}
```

**返回结果**:
```json
{
  "code": 0,
  "message": "success",
  "data": {
    "records": [
      {
        "id": 0,
        "userId": 0,
        "signInDate": "2025-12-12 10:00:00",
        "consecutiveDays": 0,
        "points": 0,
        "createTime": "2025-12-12 10:00:00",
        "updateTime": "2025-12-12 10:00:00",
        "isDelete": 0
      }
    ],
    "total": 100,
    "current": 1,
    "size": 10
  }
}
```

### 判断当前用户是否已签到

**接口地址**: `POST /signInRecord/isSignIn`

**返回结果**:
```json
{
  "code": 0,
  "message": "success",
  "data": true      // true-已签到，false-未签到
}
```